## MVC implementation

<p>This NestJS project implememts the Model-View-Controller (MVC) backend design. The backend relies on a relational Postgres database, which stores all the necessary data. Database queries are generated using TypeORM, which is integrated into NestJS. The database is comprised of the following entities:</p>

- **Answer** <br> 
This entity stores the answer details, along with the question ID it answers and the user that created it. The code implements functions that allow the creation (```create```), retrieval(```getMy```, ```getAnswersPerDay```, ```getMyAnswersPerDay```), update(```update```) and deletion (```delete```) of answers.
- **Keyword** <br>
Keywords entity stores a keyword that may tag multiple questions. Therefore, questions and keywords are connected with a many-to-many relation. There are funtion that allow the creation of keywords (```create```), the tagging of questions with a keyword (```tag```) and advanced searching (```search```, ```filterQuestionsByKeyword```, ```questionsPerKeyword```).
- **Question** <br>
Question entity contains all the properties of a question (i.e. title, text, date) along with the user ID it has been generated by. There are functions that enable users to create(```create```), retrieve(```getOne```, ```getMany```, ```getQuestionsPerDay```, ```getMyQuestionsPerDay```) and search (```searchByTitle```, ```searchByDate```) questions. For integrity purposes, the designers decided that questions shall not be altered or deleted from the database after successful create (a question deletion would affect content created by other users).
- **RefreshToken** <br>
This entity stores all the JWT refresh tokens, along with the user they belong to. The refresh tokens must be kept on the server side, because a user may be simultaneously connected from multiple devices. Furthermore, a signed up user may want to sign out before their token expires; in this case, the token must be considered invalid. There are functions that allow the creation (```saveToken```), verification(```verifyToken```) and deletion (```deleteToken```, ```deleteAllTokens```).
- **User** <br>
The user entity contains all the information associated with a user. An automatically created UUID is assigned to each user upon registration. Functions have been implemented that enable the registration(```create```), retrieval(```findByUsername```, ```findByUUID```) and information update(```updateName```, ```updatePassword```) of users. As a design approach, users cannot be deleted after creation.

<p>The following diagram shows the Entity-Relation (E-R) Model of the implemented database.</p>

![database_er](https://user-images.githubusercontent.com/44344790/125170530-15bef400-e1b8-11eb-87a3-f52f24da230e.png)
